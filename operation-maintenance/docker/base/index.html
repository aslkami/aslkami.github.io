<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <meta name="keywords" content="dumi, umijs, aslkami, 安了个装, 樂下独舞" />
    <meta name="description" content="dumi, 记录个人js知识点" />
    <link rel="shortcut icon" type="image/x-icon" href="/images/hunter.jpeg" />
    <link rel="stylesheet" href="/umi.css" />
    <script>
      window.routerBase = "/";
    </script>
    <script>
      //! umi version: 3.5.34
    </script>
    <script>
      !(function () {
        var e = localStorage.getItem("dumi:prefers-color"),
          t = window.matchMedia("(prefers-color-scheme: dark)").matches,
          r = ["light", "dark", "auto"];
        document.documentElement.setAttribute(
          "data-prefers-color",
          e === r[2] ? (t ? r[1] : r[0]) : r.indexOf(e) > -1 ? e : r[0]
        );
      })();
    </script>
    <title>Docker 基础 - 安了个装</title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-route="/operation-maintenance/docker/base" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;/images/hunter.jpeg&#x27;)" href="/">安了个装</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><span><a href="/base">基础</a></span><span><a href="/node">Node</a><ul><li><a href="/node/base">Node 基础</a></li><li><a href="/node/promise">Promise</a></li></ul></span><span><a aria-current="page" class="active" href="/operation-maintenance">前端运维</a></span><span><a href="/pack-tool">前端工程化</a></span><span><a href="/react">React</a></span><span><a href="/css">CSS</a></span><span><a href="/question">问题汇总</a></span><span><a target="_blank" rel="noopener noreferrer" href="https://aslkami-vue.netlify.app/">Vue<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></span><span>博客<ul><li><a target="_blank" rel="noopener noreferrer" href="https://aslkami.gatsbyjs.io">gatsby 博客<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a target="_blank" rel="noopener noreferrer" href="https://aslkami.netlify.app">hexo 博客<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="/fund">基金学习</a></li></ul></span><span><a target="_blank" rel="noopener noreferrer" href="https://github.com/aslkami/aslkami.github.io">GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></span><div class="__dumi-default-navbar-tool"><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "></div></div></div></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;/images/hunter.jpeg&#x27;)" href="/"></a><h1>安了个装</h1><p></p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a href="/base">基础</a></li><li><a href="/node">Node</a><ul><li><a href="/node/base">Node 基础</a></li><li><a href="/node/promise">Promise</a></li></ul></li><li><a aria-current="page" class="active" href="/operation-maintenance">前端运维</a></li><li><a href="/pack-tool">前端工程化</a></li><li><a href="/react">React</a></li><li><a href="/css">CSS</a></li><li><a href="/question">问题汇总</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://aslkami-vue.netlify.app/">Vue<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li>博客<ul><li><a target="_blank" rel="noopener noreferrer" href="https://aslkami.gatsbyjs.io">gatsby 博客<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a target="_blank" rel="noopener noreferrer" href="https://aslkami.netlify.app">hexo 博客<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="/fund">基金学习</a></li></ul></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/aslkami/aslkami.github.io">GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "><button title="Dark theme" class="__dumi-default-dark-moon "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3854" width="22" height="22"><path d="M991.816611 674.909091a69.166545 69.166545 0 0 0-51.665455-23.272727 70.795636 70.795636 0 0 0-27.438545 5.585454A415.674182 415.674182 0 0 1 754.993338 698.181818c-209.594182 0-393.472-184.785455-393.472-395.636363 0-52.363636 38.539636-119.621818 69.515637-173.614546 4.887273-8.610909 9.634909-16.756364 14.103272-24.901818A69.818182 69.818182 0 0 0 384.631156 0a70.842182 70.842182 0 0 0-27.438545 5.585455C161.678429 90.298182 14.362065 307.898182 14.362065 512c0 282.298182 238.824727 512 532.38691 512a522.286545 522.286545 0 0 0 453.957818-268.334545A69.818182 69.818182 0 0 0 991.816611 674.909091zM546.679156 954.181818c-248.785455 0-462.941091-192-462.941091-442.181818 0-186.647273 140.637091-372.829091 300.939637-442.181818-36.817455 65.629091-92.578909 151.970909-92.578909 232.727273 0 250.181818 214.109091 465.454545 462.917818 465.454545a488.331636 488.331636 0 0 0 185.181091-46.545455 453.003636 453.003636 0 0 1-393.565091 232.727273z m103.656728-669.323636l-14.266182 83.781818a34.909091 34.909091 0 0 0 50.362182 36.770909l74.775272-39.563636 74.752 39.563636a36.142545 36.142545 0 0 0 16.174546 3.956364 34.909091 34.909091 0 0 0 34.210909-40.727273l-14.289455-83.781818 60.509091-59.345455a35.025455 35.025455 0 0 0-19.223272-59.578182l-83.61891-12.101818-37.376-76.101818a34.56 34.56 0 0 0-62.254545 0l-37.376 76.101818-83.618909 12.101818a34.909091 34.909091 0 0 0-19.246546 59.578182z m70.423272-64.698182a34.280727 34.280727 0 0 0 26.135273-19.083636l14.312727-29.090909 14.336 29.090909a34.257455 34.257455 0 0 0 26.135273 19.083636l32.046546 4.887273-23.272728 22.574545a35.234909 35.234909 0 0 0-10.007272 30.952727l5.46909 32.116364-28.625454-15.127273a34.490182 34.490182 0 0 0-32.302546 0l-28.695272 15.127273 5.469091-32.116364a35.141818 35.141818 0 0 0-9.984-30.952727l-23.272728-22.574545z" p-id="3855"></path></svg></button><button title="Light theme" class="__dumi-default-dark-sun "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4026" width="22" height="22"><path d="M915.2 476.16h-43.968c-24.704 0-44.736 16-44.736 35.84s20.032 35.904 44.736 35.904H915.2c24.768 0 44.8-16.064 44.8-35.904s-20.032-35.84-44.8-35.84zM512 265.6c-136.704 0-246.464 109.824-246.464 246.4 0 136.704 109.76 246.464 246.464 246.464S758.4 648.704 758.4 512c0-136.576-109.696-246.4-246.4-246.4z m0 425.6c-99.008 0-179.2-80.128-179.2-179.2 0-98.944 80.192-179.2 179.2-179.2S691.2 413.056 691.2 512c0 99.072-80.192 179.2-179.2 179.2zM197.44 512c0-19.84-19.136-35.84-43.904-35.84H108.8c-24.768 0-44.8 16-44.8 35.84s20.032 35.904 44.8 35.904h44.736c24.768 0 43.904-16.064 43.904-35.904zM512 198.464c19.776 0 35.84-20.032 35.84-44.8v-44.8C547.84 84.032 531.84 64 512 64s-35.904 20.032-35.904 44.8v44.8c0 24.768 16.128 44.864 35.904 44.864z m0 627.136c-19.776 0-35.904 20.032-35.904 44.8v44.736C476.096 940.032 492.16 960 512 960s35.84-20.032 35.84-44.8v-44.736c0-24.768-16.064-44.864-35.84-44.864z m329.92-592.832c17.472-17.536 20.288-43.072 6.4-57.024-14.016-14.016-39.488-11.2-57.024 6.336-4.736 4.864-26.496 26.496-31.36 31.36-17.472 17.472-20.288 43.008-6.336 57.024 13.952 14.016 39.488 11.2 57.024-6.336 4.8-4.864 26.496-26.56 31.296-31.36zM213.376 759.936c-4.864 4.8-26.56 26.624-31.36 31.36-17.472 17.472-20.288 42.944-6.4 56.96 14.016 13.952 39.552 11.2 57.024-6.336 4.8-4.736 26.56-26.496 31.36-31.36 17.472-17.472 20.288-43.008 6.336-56.96-14.016-13.952-39.552-11.072-56.96 6.336z m19.328-577.92c-17.536-17.536-43.008-20.352-57.024-6.336-14.08 14.016-11.136 39.488 6.336 57.024 4.864 4.864 26.496 26.56 31.36 31.424 17.536 17.408 43.008 20.288 56.96 6.336 14.016-14.016 11.264-39.488-6.336-57.024-4.736-4.864-26.496-26.56-31.296-31.424z m527.168 628.608c4.864 4.864 26.624 26.624 31.36 31.424 17.536 17.408 43.072 20.224 57.088 6.336 13.952-14.016 11.072-39.552-6.4-57.024-4.864-4.8-26.56-26.496-31.36-31.36-17.472-17.408-43.072-20.288-57.024-6.336-13.952 14.016-11.008 39.488 6.336 56.96z" p-id="4027"></path></svg></button><button title="Default to system" class="__dumi-default-dark-auto "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11002" width="22" height="22"><path d="M127.658667 492.885333c0-51.882667 10.24-101.717333 30.378666-149.162666s47.786667-88.064 81.92-122.538667 75.093333-61.781333 122.538667-81.92 96.938667-30.378667 149.162667-30.378667 101.717333 10.24 149.162666 30.378667 88.405333 47.786667 122.88 81.92 61.781333 75.093333 81.92 122.538667 30.378667 96.938667 30.378667 149.162666-10.24 101.717333-30.378667 149.162667-47.786667 88.405333-81.92 122.88-75.093333 61.781333-122.88 81.92-97.28 30.378667-149.162666 30.378667-101.717333-10.24-149.162667-30.378667-88.064-47.786667-122.538667-81.92-61.781333-75.093333-81.92-122.88-30.378667-96.938667-30.378666-149.162667z m329.045333 0c0 130.048 13.994667 244.394667 41.984 343.381334h12.970667c46.762667 0 91.136-9.216 133.461333-27.306667s78.848-42.666667 109.568-73.386667 54.954667-67.242667 73.386667-109.568 27.306667-86.698667 27.306666-133.461333c0-46.421333-9.216-90.794667-27.306666-133.12s-42.666667-78.848-73.386667-109.568-67.242667-54.954667-109.568-73.386667-86.698667-27.306667-133.461333-27.306666h-11.605334c-28.672 123.562667-43.349333 237.909333-43.349333 343.722666z" p-id="11003"></path></svg></button></div></div></div><ul class="__dumi-default-menu-list"><li><a href="/operation-maintenance/cicd">CICD</a><ul><li><a href="/operation-maintenance/cicd"><span>持续集成</span></a></li></ul></li><li><a aria-current="page" class="active" href="/operation-maintenance/docker">Docker</a><ul><li><a href="/operation-maintenance/docker/introduce"><span>Docker 介绍</span></a></li><li><a aria-current="page" class="active" href="/operation-maintenance/docker/base"><span>Docker 基础</span></a></li><li><a href="/operation-maintenance/docker/advance"><span>Docker 进阶</span></a></li><li><a href="/operation-maintenance/docker/project"><span>Node 项目</span></a></li></ul></li><li><a href="/operation-maintenance/k8s">K8S</a><ul><li><a href="/operation-maintenance/k8s"><span>k8s 入门</span></a></li><li><a href="/operation-maintenance/k8s/base"><span>k8s 基础</span></a></li><li><a href="/operation-maintenance/k8s/advance"><span>k8s 进阶</span></a></li><li><a href="/operation-maintenance/k8s/project"><span>项目实战</span></a></li></ul></li><li><a href="/operation-maintenance/linux">Linux</a><ul><li><a href="/operation-maintenance/linux"><span>基础</span></a></li><li><a href="/operation-maintenance/linux/vi-editor"><span>Vi 编辑器</span></a></li><li><a href="/operation-maintenance/linux/user-group"><span>用户和用户组</span></a></li><li><a href="/operation-maintenance/linux/auth"><span>权限</span></a></li><li><a href="/operation-maintenance/linux/shell"><span>Shell</span></a></li><li><a href="/operation-maintenance/linux/package-manage"><span>服务与包管理</span></a></li><li><a href="/operation-maintenance/linux/system"><span>linux 进程</span></a></li><li><a href="/operation-maintenance/linux/network"><span>网络</span></a></li><li><a href="/operation-maintenance/linux/install"><span>常用软件安装</span></a></li></ul></li><li><a href="/operation-maintenance/nginx">Nginx</a><ul><li><a href="/operation-maintenance/nginx/introduce"><span>Nginx 介绍</span></a></li><li><a href="/operation-maintenance/nginx/base"><span>Nginx 基础</span></a></li><li><a href="/operation-maintenance/nginx/advance"><span>Nginx 进阶</span></a></li></ul></li></ul></div></div><ul role="slug-list" class="__dumi-default-layout-toc"><li title="docker安装" data-depth="2"><a href="/operation-maintenance/docker/base#docker安装"><span>docker安装</span></a></li><li title="安装" data-depth="3"><a href="/operation-maintenance/docker/base#安装"><span>安装</span></a></li><li title="启动" data-depth="3"><a href="/operation-maintenance/docker/base#启动"><span>启动</span></a></li><li title="查看docker版本" data-depth="3"><a href="/operation-maintenance/docker/base#查看docker版本"><span>查看docker版本</span></a></li><li title="卸载" data-depth="3"><a href="/operation-maintenance/docker/base#卸载"><span>卸载</span></a></li><li title="Docker架构" data-depth="2"><a href="/operation-maintenance/docker/base#docker架构"><span>Docker架构</span></a></li><li title="阿里云加速" data-depth="2"><a href="/operation-maintenance/docker/base#阿里云加速"><span>阿里云加速</span></a></li><li title="image镜像" data-depth="2"><a href="/operation-maintenance/docker/base#image镜像"><span>image镜像</span></a></li><li title="查看镜像" data-depth="3"><a href="/operation-maintenance/docker/base#查看镜像"><span>查看镜像</span></a></li><li title="查找镜像" data-depth="3"><a href="/operation-maintenance/docker/base#查找镜像"><span>查找镜像</span></a></li><li title="拉取镜像" data-depth="3"><a href="/operation-maintenance/docker/base#拉取镜像"><span>拉取镜像</span></a></li><li title="删除镜像" data-depth="3"><a href="/operation-maintenance/docker/base#删除镜像"><span>删除镜像</span></a></li><li title="export" data-depth="3"><a href="/operation-maintenance/docker/base#export"><span>export</span></a></li><li title="import" data-depth="3"><a href="/operation-maintenance/docker/base#import"><span>import</span></a></li><li title="save" data-depth="3"><a href="/operation-maintenance/docker/base#save"><span>save</span></a></li><li title="load" data-depth="3"><a href="/operation-maintenance/docker/base#load"><span>load</span></a></li><li title="容器" data-depth="2"><a href="/operation-maintenance/docker/base#容器"><span>容器</span></a></li><li title="命令" data-depth="3"><a href="/operation-maintenance/docker/base#命令"><span>命令</span></a></li><li title="启动容器" data-depth="3"><a href="/operation-maintenance/docker/base#启动容器"><span>启动容器</span></a></li><li title="查看容器" data-depth="3"><a href="/operation-maintenance/docker/base#查看容器"><span>查看容器</span></a></li><li title="运行交互式的容器" data-depth="3"><a href="/operation-maintenance/docker/base#运行交互式的容器"><span>运行交互式的容器</span></a></li><li title="后台运行容器" data-depth="3"><a href="/operation-maintenance/docker/base#后台运行容器"><span>后台运行容器</span></a></li><li title="kill" data-depth="3"><a href="/operation-maintenance/docker/base#kill"><span>kill</span></a></li><li title="删除容器" data-depth="3"><a href="/operation-maintenance/docker/base#删除容器"><span>删除容器</span></a></li><li title="启动容器" data-depth="3"><a href="/operation-maintenance/docker/base#启动容器-1"><span>启动容器</span></a></li><li title="停止容器" data-depth="3"><a href="/operation-maintenance/docker/base#停止容器"><span>停止容器</span></a></li><li title="进入一个容器" data-depth="3"><a href="/operation-maintenance/docker/base#进入一个容器"><span>进入一个容器</span></a></li><li title="进入一个正在运行中的容器" data-depth="3"><a href="/operation-maintenance/docker/base#进入一个正在运行中的容器"><span>进入一个正在运行中的容器</span></a></li><li title="拷贝文件" data-depth="3"><a href="/operation-maintenance/docker/base#拷贝文件"><span>拷贝文件</span></a></li><li title="自动删除" data-depth="3"><a href="/operation-maintenance/docker/base#自动删除"><span>自动删除</span></a></li><li title="stats" data-depth="3"><a href="/operation-maintenance/docker/base#stats"><span>stats</span></a></li><li title="top" data-depth="3"><a href="/operation-maintenance/docker/base#top"><span>top</span></a></li><li title="update" data-depth="3"><a href="/operation-maintenance/docker/base#update"><span>update</span></a></li><li title="port" data-depth="3"><a href="/operation-maintenance/docker/base#port"><span>port</span></a></li><li title="logs" data-depth="3"><a href="/operation-maintenance/docker/base#logs"><span>logs</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h2 id="docker安装"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#docker安装"><span class="icon icon-link"></span></a><code>docker安装</code></h2><ul><li>docker 分为企业版(EE)和社区版(CE)</li><li><a target="_blank" rel="noopener noreferrer" href="https://docs.docker.com/engine/install/centos/">docker-ce<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a target="_blank" rel="noopener noreferrer" href="https://hub.docker.com/">hub.docker<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul><h3 id="安装"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#安装"><span class="icon icon-link"></span></a><code>安装</code></h3><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">yum </span><span class="token function">install</span><span class="token plain"> -y yum-utils   device-mapper-persistent-data   lvm2</span></div><div class="token-line"><span class="token plain">yum-config-manager     --add-repo     https://download.docker.com/linux/centos/docker-ce.repo</span></div><div class="token-line"><span class="token plain">yum </span><span class="token function">install</span><span class="token plain"> docker-ce docker-ce-cli containerd.io -y</span></div></pre></div><h3 id="启动"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#启动"><span class="icon icon-link"></span></a><code>启动</code></h3><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">systemctl start </span><span class="token function">docker</span></div></pre></div><h3 id="查看docker版本"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#查看docker版本"><span class="icon icon-link"></span></a><code>查看docker版本</code></h3><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">$ </span><span class="token function">docker</span><span class="token plain"> version</span></div><div class="token-line"><span class="token plain">$ </span><span class="token function">docker</span><span class="token plain"> info</span></div></pre></div><h3 id="卸载"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#卸载"><span class="icon icon-link"></span></a><code>卸载</code></h3><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token function">docker</span><span class="token plain"> info</span></div><div class="token-line"><span class="token plain">yum remove </span><span class="token function">docker</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">rm</span><span class="token plain"> -rf /var/lib/docker</span></div></pre></div><h2 id="docker架构"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#docker架构"><span class="icon icon-link"></span></a><code>Docker架构</code></h2><p><img src="/images/docker/docker-arch.jpeg" alt="docer 架构"/></p><h2 id="阿里云加速"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#阿里云加速"><span class="icon icon-link"></span></a><code>阿里云加速</code></h2><p><a target="_blank" rel="noopener noreferrer" href="https://promotion.aliyun.com/ntms/act/kubernetes.html">镜像仓库<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a target="_blank" rel="noopener noreferrer" href="https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors">镜像加速器<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token function">sudo</span><span class="token plain"> </span><span class="token function">mkdir</span><span class="token plain"> -p /etc/docker</span></div><div class="token-line"><span class="token plain"></span><span class="token function">sudo</span><span class="token plain"> </span><span class="token function">tee</span><span class="token plain"> /etc/docker/daemon.json </span><span class="token operator">&lt;&lt;-</span><span class="token string">&#x27;EOF&#x27;</span></div><div class="token-line"><span class="token string">{</span></div><div class="token-line"><span class="token string">  &quot;registry-mirrors&quot;: [&quot;https://fwvjnv59.mirror.aliyuncs.com&quot;]</span></div><div class="token-line"><span class="token string">}</span></div><div class="token-line"><span class="token string">EOF</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment"># 重载所有修改过的配置文件</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">//daemon-reload: 重新加载某个服务的配置文件</span></div><div class="token-line"><span class="token plain"></span><span class="token function">sudo</span><span class="token plain"> systemctl daemon-reload</span></div><div class="token-line"><span class="token plain"></span><span class="token function">sudo</span><span class="token plain"> systemctl restart </span><span class="token function">docker</span></div></pre></div><h2 id="image镜像"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#image镜像"><span class="icon icon-link"></span></a><code>image镜像</code></h2><ul><li>Docker 把应用程序及其依赖，打包在 image 文件里面。只有通过这个文件，才能生成 Docker 容器</li><li>image 文件可以看作是容器的模板</li><li>Docker 根据 image 文件生成容器的实例</li><li>同一个 image 文件，可以生成多个同时运行的容器实例</li><li>镜像不是一个单一的文件，而是有多层</li><li>容器其实就是在镜像的最上面加了一层读写层，在运行容器里做的任何文件改动，都会写到这个读写层里。如果容器删除了，最上面的读写层也就删除了，改动也就丢失了</li><li>我们可以通过 docker history &lt;ID/NAME&gt; 查看镜像中各层内容及大小，每层对应着 Dockerfile 中的一条指令</li></ul><div class="__dumi-default-table"><div class="__dumi-default-table-content"><table><thead><tr><th align="left">命令</th><th align="left">含义</th><th align="left">语法</th><th align="left">案例</th></tr></thead><tbody><tr><td align="left">ls</td><td align="left">查看全部镜像</td><td align="left">docker image ls</td><td align="left"></td></tr><tr><td align="left">search</td><td align="left">查找镜像</td><td align="left">docker search [imageName]</td><td align="left"></td></tr><tr><td align="left">history</td><td align="left">查看镜像历史</td><td align="left">docker history [imageName]</td><td align="left"></td></tr><tr><td align="left">inspect</td><td align="left">显示一个或多个镜像详细信息</td><td align="left">docker inspect [imageName]</td><td align="left"></td></tr><tr><td align="left">pull</td><td align="left">拉取镜像</td><td align="left">docker pull [imageName]</td><td align="left"></td></tr><tr><td align="left">push</td><td align="left">推送一个镜像到镜像仓库</td><td align="left">docker push [imageName]</td><td align="left"></td></tr><tr><td align="left">rmi</td><td align="left">删除镜像</td><td align="left">docker rmi [imageName] docker image rmi 2</td><td align="left"></td></tr><tr><td align="left">prune</td><td align="left">移除未使用的镜像，没有标记或补任何容器引用</td><td align="left">docker image prune</td><td align="left">docker image prune</td></tr><tr><td align="left">tag</td><td align="left">标记本地镜像，将其归入某一仓库</td><td align="left">docker tag [OPTIONS] IMAGE[:TAG] [REGISTRYHOST/][username/]NAME[:TAG]</td><td align="left">docker tag centos:7 aslkami/centos:v1</td></tr><tr><td align="left">export</td><td align="left">将容器文件系统作为一个 tar 归档文件导出到 STDOUT</td><td align="left">docker export [OPTIONS] CONTAINER</td><td align="left">docker export -o hello-world.tar b2712f1067a3</td></tr><tr><td align="left">import</td><td align="left">导入容器快照文件系统 tar 归档文件并创建镜像</td><td align="left">docker import [OPTIONS] file/URL/- [REPOSITORY[:TAG]]</td><td align="left">docker import hello-world.tar</td></tr><tr><td align="left">save</td><td align="left">将指定镜像保存成 tar 文件</td><td align="left">docker save [OPTIONS] IMAGE [IMAGE...]</td><td align="left">docker save -o hello-world.tar hello-world:latest</td></tr><tr><td align="left">load</td><td align="left">加载 tar 文件并创建镜像</td><td align="left"></td><td align="left">docker load -i hello-world.tar</td></tr><tr><td align="left">build</td><td align="left">根据 Dockerfile 构建镜像</td><td align="left">docker build [OPTIONS] PATH / URL / -</td><td align="left">docker build -t zf/ubuntu:v1 .</td></tr></tbody></table></div></div><ul><li>用户既可以使用 docker load 来导入镜像存储文件到本地镜像库，也可以使用 docker import 来导入一个容器快照到本地镜像库</li><li>这两者的区别在于容器(import)快照文件将丢弃所有的历史记录和元数据信息（即仅保存容器当时的快照状态），而镜像(load)存储文件将保存完整记录，体积也要大</li><li>此外，从容器(import)快照文件导入时可以重新指定标签等元数据信息</li></ul><h3 id="查看镜像"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#查看镜像"><span class="icon icon-link"></span></a><code>查看镜像</code></h3><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token function">docker</span><span class="token plain"> image </span><span class="token function">ls</span></div></pre></div><div class="__dumi-default-table"><div class="__dumi-default-table-content"><table><thead><tr><th align="left">字段</th><th align="left">含义</th></tr></thead><tbody><tr><td align="left">REPOSITORY</td><td align="left">仓库地址</td></tr><tr><td align="left">TAG</td><td align="left">标签</td></tr><tr><td align="left">IMAGE_ID</td><td align="left">镜像 ID</td></tr><tr><td align="left">CREATED</td><td align="left">创建时间</td></tr><tr><td align="left">SIZE</td><td align="left">镜像大小</td></tr></tbody></table></div></div><h3 id="查找镜像"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#查找镜像"><span class="icon icon-link"></span></a><code>查找镜像</code></h3><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token function">docker</span><span class="token plain"> search ubuntu</span></div></pre></div><div class="__dumi-default-table"><div class="__dumi-default-table-content"><table><thead><tr><th align="left">字段</th><th align="left">含义</th></tr></thead><tbody><tr><td align="left">NAME</td><td align="left">名称</td></tr><tr><td align="left">DESCRIPTION</td><td align="left">描述</td></tr><tr><td align="left">STARTS</td><td align="left">星星的数量</td></tr><tr><td align="left">OFFICIAL</td><td align="left">是否官方源</td></tr></tbody></table></div></div><h3 id="拉取镜像"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#拉取镜像"><span class="icon icon-link"></span></a><code>拉取镜像</code></h3><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token function">docker</span><span class="token plain">  pull docker.io/hello-world</span></div></pre></div><ul><li>docker image pull 是抓取 image 文件的命令</li><li>docker.io/hello-world 是 image 文件在仓库里面的位置，其中 docker.io 是 image 的作者，hello-world 是 image 文件的名字</li><li>Docker 官方提供的 image 文件，都放在 docker.io 组里面，所以它的是默认组，可以省略 docker image pull hello-world</li></ul><h3 id="删除镜像"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#删除镜像"><span class="icon icon-link"></span></a><code>删除镜像</code></h3><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token function">docker</span><span class="token plain"> rmi  hello-world</span></div></pre></div><h3 id="export"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#export"><span class="icon icon-link"></span></a><code>export</code></h3><ul><li>将容器文件系统作为一个 tar 归档文件导出到 STDOUT</li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token function">docker</span><span class="token plain"> </span><span class="token builtin class-name">export</span><span class="token plain"> -o hello-world.tar b2712f1067a3</span></div></pre></div><h3 id="import"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#import"><span class="icon icon-link"></span></a><code>import</code></h3><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token function">docker</span><span class="token plain"> </span><span class="token function">import</span><span class="token plain"> hello-world.tar</span></div></pre></div><h3 id="save"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#save"><span class="icon icon-link"></span></a><code>save</code></h3><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token function">docker</span><span class="token plain"> save -o hello-world.tar hello-world:latest</span></div></pre></div><h3 id="load"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#load"><span class="icon icon-link"></span></a><code>load</code></h3><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token function">docker</span><span class="token plain"> load -i hello-world.tar</span></div></pre></div><h2 id="容器"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#容器"><span class="icon icon-link"></span></a><code>容器</code></h2><ul><li>docker run 命令会从 image 文件，生成一个正在运行的容器实例。</li><li>docker container run 命令具有自动抓取 image 文件的功能。如果发现本地没有指定的 image 文件，就会从仓库自动抓取</li><li>输出提示以后，hello world 就会停止运行，容器自动终止。</li><li>有些容器不会自动终止</li><li>image 文件生成的容器实例，本身也是一个文件，称为容器文件</li><li>容器生成，就会同时存在两个文件： image 文件和容器文件</li><li>关闭容器并不会删除容器文件，只是容器停止运行</li></ul><h3 id="命令"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#命令"><span class="icon icon-link"></span></a><code>命令</code></h3><div class="__dumi-default-table"><div class="__dumi-default-table-content"><table><thead><tr><th align="left">命令</th><th align="left">含义</th><th align="left">案例</th><th></th></tr></thead><tbody><tr><td align="left">run</td><td align="left">从镜像运行一个容器</td><td align="left">docker run ubuntu /bin/echo &#x27;hello-world&#x27;</td><td></td></tr><tr><td align="left">ls</td><td align="left">列出容器</td><td align="left">docker container ls</td><td></td></tr><tr><td align="left">inspect</td><td align="left">显示一个或多个容器详细信息</td><td align="left">docker inspect</td><td></td></tr><tr><td align="left">attach</td><td align="left">要 attach 上去的容器必须正在运行，可以同时连接上同一个 container 来共享屏幕</td><td align="left">docker attach [OPTIONS] CONTAINER</td><td>docker attach 6d1a25f95132</td></tr><tr><td align="left">stats</td><td align="left">显示容器资源使用统计</td><td align="left">docker container stats</td><td></td></tr><tr><td align="left">top</td><td align="left">显示一个容器运行的进程</td><td align="left">docker container top</td><td></td></tr><tr><td align="left">update</td><td align="left">更新一个或多个容器配置</td><td align="left"></td><td>docker update -m 500m --memory-swap -1 6d1a25f95132</td></tr><tr><td align="left">port</td><td align="left">列出指定的容器的端口映射</td><td align="left">docker run -d -p 8080:80 nginx docker container port containerID</td><td></td></tr><tr><td align="left">ps</td><td align="left">查看当前运行的容器</td><td align="left">docker ps -a -l</td><td></td></tr><tr><td align="left">kill [containerId]</td><td align="left">终止容器(发送 SIGKILL )</td><td align="left">docker kill [containerId]</td><td></td></tr><tr><td align="left">rm [containerId]</td><td align="left">删除容器</td><td align="left">docker rm [containerId]</td><td></td></tr><tr><td align="left">start [containerId]</td><td align="left">启动已经生成、已经停止运行的容器文件</td><td align="left">docker start [containerId]</td><td></td></tr><tr><td align="left">stop [containerId]</td><td align="left">终止容器运行 (发送 SIGTERM )</td><td align="left">docker stop [containerId] docker container stop $(docker container ps -aq)</td><td></td></tr><tr><td align="left">logs [containerId]</td><td align="left">查看 docker 容器的输出</td><td align="left">docker logs [containerId]</td><td></td></tr><tr><td align="left">exec [containerId]</td><td align="left">进入一个正在运行的 docker 容器执行命令</td><td align="left">docker container exec -it f6a53629488b /bin/bash</td><td></td></tr><tr><td align="left">cp [containerId]</td><td align="left">从正在运行的 Docker 容器里面，将文件拷贝到本机</td><td align="left">docker container cp f6a53629488b:/root/root.txt .</td><td></td></tr><tr><td align="left">commit [containerId]</td><td align="left">根据一个现有容器创建一个新的镜像</td><td align="left">docker commit -a &quot;aslkami&quot; -m &quot;mynginx&quot; a404c6c174a2 mynginx:v1</td><td></td></tr></tbody></table></div></div><ul><li>docker 容器的主线程（dockfile 中 CMD 执行的命令）结束，容器会退出<ul><li>以使用交互式启动 docker run -i [CONTAINER_NAME or CONTAINER_ID]</li><li>tty 选项 docker run -dit [CONTAINER_NAME or CONTAINER_ID]</li><li>守护态（Daemonized）形式运行 docker run -d ubuntu /bin/sh -c &quot;while true; do echo hello world; sleep 1; done&quot;</li></ul></li></ul><h3 id="启动容器"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#启动容器"><span class="icon icon-link"></span></a><code>启动容器</code></h3><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token function">docker</span><span class="token plain"> run ubuntu /bin/echo </span><span class="token string">&quot;Hello world&quot;</span></div></pre></div><ul><li>docker: Docker 的二进制执行文件。</li><li>run:与前面的 docker 组合来运行一个容器。</li><li>ubuntu 指定要运行的镜像，Docker 首先从本地主机上查找镜像是否存在，如果不存在，Docker 就会从镜像仓库 Docker Hub 下载公共镜像。</li><li>/bin/echo &quot;Hello world&quot;: 在启动的容器里执行的命令</li></ul><blockquote><p>Docker 以 ubuntu 镜像创建一个新容器，然后在容器里执行 bin/echo &quot;Hello world&quot;，然后输出结果</p><ul><li>Docker attach 必须是登陆到一个已经运行的容器里。需要注意的是如果从这个容器中 exit 退出的话，就会导致容器停止</li></ul></blockquote><div class="__dumi-default-table"><div class="__dumi-default-table-content"><table><thead><tr><th align="left">参数</th><th align="left">含义</th><th></th></tr></thead><tbody><tr><td align="left">-i</td><td align="left">--interactive 交互式</td><td></td></tr><tr><td align="left">-t</td><td align="left">--tty 分配一个伪终端</td><td></td></tr><tr><td align="left">-d</td><td align="left">--detach 运行容器到后台</td><td></td></tr><tr><td align="left">-a</td><td align="left">--attach list 附加到运行的容器</td><td></td></tr><tr><td align="left">-e</td><td align="left">--env list 设置环境变量</td><td>docker run -d -p 1010:80 -e username=&quot;aslkami&quot; nginx \ docker container exec -it 3695dc5b9c2d /bin/bash</td></tr><tr><td align="left">-p</td><td align="left">--publish list 发布容器端口到主机</td><td></td></tr><tr><td align="left">-P</td><td align="left">--publish-al</td><td></td></tr></tbody></table></div></div><h3 id="查看容器"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#查看容器"><span class="icon icon-link"></span></a><code>查看容器</code></h3><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token function">docker</span><span class="token plain"> </span><span class="token function">ps</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">docker</span><span class="token plain"> -a</span></div><div class="token-line"><span class="token plain"></span><span class="token function">docker</span><span class="token plain"> -l</span></div></pre></div><ul><li>-a 显示所有的容器，包括已停止的</li><li>-l 显示最新的那个容器</li></ul><div class="__dumi-default-table"><div class="__dumi-default-table-content"><table><thead><tr><th align="left">字段</th><th align="left">含义</th></tr></thead><tbody><tr><td align="left">CONTAINER ID</td><td align="left">容器 ID</td></tr><tr><td align="left">IMAGE</td><td align="left">使用的镜像</td></tr><tr><td align="left">COMMAND</td><td align="left">使用的命令</td></tr><tr><td align="left">CREATED</td><td align="left">创建时间</td></tr><tr><td align="left">STATUS</td><td align="left">状态</td></tr><tr><td align="left">PORTS</td><td align="left">端口号</td></tr><tr><td align="left">NAMES</td><td align="left">自动分配的名称</td></tr></tbody></table></div></div><h3 id="运行交互式的容器"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#运行交互式的容器"><span class="icon icon-link"></span></a><code>运行交互式的容器</code></h3><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token function">docker</span><span class="token plain"> run -i -t ubuntu /bin/bash</span></div><div class="token-line"><span class="token plain"></span><span class="token builtin class-name">exit</span></div></pre></div><ul><li><p>-t=--interactive 在新容器内指定一个伪终端或终端。</p></li><li><p>-i=--tty 允许你对容器内的标准输入 (STDIN) 进行交互。</p><blockquote><p>我们可以通过运行 exit 命令或者使用 CTRL+D 来退出容器。</p></blockquote></li></ul><h3 id="后台运行容器"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#后台运行容器"><span class="icon icon-link"></span></a><code>后台运行容器</code></h3><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token function">docker</span><span class="token plain"> run --detach centos </span><span class="token function">ping</span><span class="token plain"> www.baidu.com</span></div><div class="token-line"><span class="token plain"></span><span class="token function">docker</span><span class="token plain"> </span><span class="token function">ps</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">docker</span><span class="token plain"> logs --follow ad04d9acde94</span></div><div class="token-line"><span class="token plain"></span><span class="token function">docker</span><span class="token plain"> stop ad04d9acde94</span></div></pre></div><h3 id="kill"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#kill"><span class="icon icon-link"></span></a><code>kill</code></h3><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token function">docker</span><span class="token plain"> </span><span class="token function">kill</span><span class="token plain"> 5a5c3a760f61</span></div></pre></div><blockquote><p>kill 是不管容器同不同意，直接执行 kill -9，强行终止；stop 的话，首先给容器发送一个 TERM 信号，让容器做一些退出前必须的保护性、安全性操作，然后让容器自动停止运行，如果在一段时间内，容器还是没有停止，再进行 kill -9，强行终止</p></blockquote><h3 id="删除容器"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#删除容器"><span class="icon icon-link"></span></a><code>删除容器</code></h3><ul><li>docker rm 删除容器</li><li>docker rmi 删除镜像</li><li>docker rm $(docker ps -a -q)</li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token function">docker</span><span class="token plain"> </span><span class="token function">rm</span><span class="token plain"> 5a5c3a760f61</span></div></pre></div><h3 id="启动容器-1"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#启动容器-1"><span class="icon icon-link"></span></a><code>启动容器</code></h3><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token function">docker</span><span class="token plain"> start </span><span class="token punctuation">[</span><span class="token plain">containerId</span><span class="token punctuation">]</span></div></pre></div><h3 id="停止容器"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#停止容器"><span class="icon icon-link"></span></a><code>停止容器</code></h3><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token function">docker</span><span class="token plain"> stop </span><span class="token punctuation">[</span><span class="token plain">containerId</span><span class="token punctuation">]</span></div></pre></div><h3 id="进入一个容器"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#进入一个容器"><span class="icon icon-link"></span></a><code>进入一个容器</code></h3><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token function">docker</span><span class="token plain"> attach </span><span class="token punctuation">[</span><span class="token plain">containerID</span><span class="token punctuation">]</span></div></pre></div><h3 id="进入一个正在运行中的容器"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#进入一个正在运行中的容器"><span class="icon icon-link"></span></a><code>进入一个正在运行中的容器</code></h3><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token function">docker</span><span class="token plain"> container -exec -it </span><span class="token punctuation">[</span><span class="token plain">containerID</span><span class="token punctuation">]</span><span class="token plain"> /bin/bash</span></div></pre></div><h3 id="拷贝文件"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#拷贝文件"><span class="icon icon-link"></span></a><code>拷贝文件</code></h3><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token function">docker</span><span class="token plain"> container </span><span class="token function">cp</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">containerID</span><span class="token punctuation">]</span><span class="token plain">/readme.md </span><span class="token builtin class-name">.</span></div></pre></div><h3 id="自动删除"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#自动删除"><span class="icon icon-link"></span></a><code>自动删除</code></h3><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token function">docker</span><span class="token plain"> run --rm ubuntu /bin/bash</span></div></pre></div><h3 id="stats"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#stats"><span class="icon icon-link"></span></a><code>stats</code></h3><ul><li>显示容器资源使用统计</li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-sbell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">docker container stats</span></div></pre></div><h3 id="top"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#top"><span class="icon icon-link"></span></a><code>top</code></h3><ul><li>显示一个容器运行的进程</li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token function">docker</span><span class="token plain"> container </span><span class="token function">top</span></div></pre></div><h3 id="update"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#update"><span class="icon icon-link"></span></a><code>update</code></h3><ul><li>更新一个或多个容器配置</li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token function">docker</span><span class="token plain"> update -m 500m  6d1a25f95132</span></div></pre></div><h3 id="port"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#port"><span class="icon icon-link"></span></a><code>port</code></h3><ul><li>列出指定的容器的端口映射</li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token function">docker</span><span class="token plain"> run -d -p </span><span class="token number">8080</span><span class="token plain">:80 nginx</span></div><div class="token-line"><span class="token plain"></span><span class="token function">docker</span><span class="token plain"> container port containerID</span></div></pre></div><h3 id="logs"><a aria-hidden="true" tabindex="-1" href="/operation-maintenance/docker/base#logs"><span class="icon icon-link"></span></a><code>logs</code></h3><ul><li>查看 docker 容器的输出</li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token function">docker</span><span class="token plain"> logs </span><span class="token punctuation">[</span><span class="token plain">containerId</span><span class="token punctuation">]</span></div></pre></div></div><div class="__dumi-default-layout-footer-meta"><span data-updated-text="Last update: ">9/24/2022 10:30:58</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/umi.js"></script>
  </body>
</html>
